# VIM使用笔记

标签（空格分隔）： 笔记 vim
---
## vim简介

    vim 是vi发展出来的文本编辑器。功能极其丰富,高度可定制的文本编辑器
    vim 有三种工作模式：
    - 命令模式
    - 编辑模式
    - 末行模式
    
---
## 命令行模式
    任何时候，不管用户处于何种状态，只要按一下Esc键，即可使Vi进入 命令模式；我们在shell环境（提示符为$）下输入启动Vi命令，进入 编辑器时，也是处于该模式下。在该命令下，用户可以输入各种合法 的Vi命令，用于管理自己的文档。此时键盘输入任何命令都被当做编辑命令来解释，若输入字符是合法的Vi命令，则Vi在接收到用户命令之后完成相应的动作。但需要注意的是，所有输入的命令并不是在屏幕中显示出来的。若输入的不是合法的Vi命令，Vi会响铃报警。

---
## 编辑模式
    在命令模式下输入插入命令i,附加命令a，打开命令o，修改命令c，取代命令r，或替换命令s都可以进入文本输入模式。在该模式下用户输入任何字符都被Vi当做文件内容保存起来，并将其显示在屏幕上，在编辑模式下按ESC回到命令模式。
    
---
## 末行模式
    在命令模式下，按“:”键进入末行模式，此时Vi会在显示窗口的最后一行显示“:”。多数文件管理命令都是在此模式下执行的(如关闭文件，保存文件，等等）。末行模式执行完后自动回到命令模式，或者按ESC进入命令模式，注意：在末行模式中不能直接进入编辑模式！！！

---
## Vim的基本操作
### 命令模式下的操作
#### 进入插入模式：

    i：光标插入当前字符前
    I：光标插入到行首
    a：光标插入到当前字符后
    A：光标插入到行末
    o：向下重开一行，光标插入到行首
    O：向上重开一行，光标插入到行首
#### 移动光标：

    h：左移
    j：下移
    k：上移
    l：右移
    M：光标移动到中间行
    L：光标移动到屏幕的最后一行行首
    G：移动到指定行 行号+G
    w：向后一次移动一个字
    b：向前一次移动一个字
    Ctrl+d：向下翻半屏
    Ctrl+u：向上翻半屏
    Ctrl+f：向下翻一屏
    Ctrl+b：向上翻一屏
    gg：光标移动到文件开头
    G：光标移动到文件末尾
#### 删除命令：

    x：删除光标后一个字符，相当于Del
    X：删除光标的前一个字符，相当于Backspace
    dd：删除光标所在行
    行号+dd：删除指定行数
    D：删除光标所在行数包括光标所在字符
    d0：删除光标所在行，光标之前的内容，不包括光标所在的字符
    dw：删除光标所在的字符
#### 撤销命令：

    u：一步一步的撤销
    Ctrl+r：反撤销
#### 重复命令：

    .：重复上一次操作的命令
#### 文本行移动：

    >>：文本行右移，相当于tab键
    <<：相当于shift+tab键
#### 可视模式：

    v：按照字符移动选中文本
    V：按行移动选中文本
    （注：可视模式可以配合d,y,>>,<< 实现文本块的删除复制，左右移动）
#### 替换操作:

    r：替换光标所在字符
    R：替换当天行光标后的内容
#### 查找命令：

    /+查找内容：高亮显示查找内容
    n：跳转到下一个
    N：跳转到上一个
### 末行模式下的操作
#### 关闭文件：

    q：不做任何操作退出文件
    q!：强制退出文件不做保存
    wq：保存文件并退出文件
    x：保存并退出文件等价于wq
#### 替换操作：
    
    末行模式下，将 当前文件中的所有abc替换成123
    :%s/abc/123/g
    将第一至第十行之间的abc替换成123
    :1,10s/abc/123/g
    总结：
        -%表示整个文件，1,10表示1到10行范围内
        -s表示替换
        -g表示全局

